<!DOCTYPE html><html xmlns:og="http://ogp.me/ns#"><head><meta charset="UTF-8" /><title>Git submodule の基礎 - Qiita</title><meta content="width=device-width,initial-scale=1" name="viewport" /><meta content="この記事は Git Advent Calendar 6日目の記事です！
Git submodule って最初わかりにくいと思うので、基本的な説明をしようと思います。


git submodule とは

git submodule は、外部の git リポジトリを、自分の git リポジトリのサブディレクトリとして登録し、特定の commit を参照する仕組みです。
Subversion でいうところの、external と似ています。

さて、解説のため、手元に、リ..." name="description" /><meta content="summary" name="twitter:card" /><meta content="@Qiita" name="twitter:site" /><meta content="sotarok" name="twitter:creator" /><meta content="Git submodule の基礎 - Qiita" property="og:title" /><meta content="article" property="og:type" /><meta content="http://qiita.com/sotarok/items/0d525e568a6088f6f6bb" property="og:url" /><meta content="http://cdn.qiita.com/assets/qiita-fb-f1d6559f13f7e8de7260c6cec4d3b8f9c2eab8322a69fd786baea877d220278b.png" property="og:image" /><meta content="この記事は [Git Advent Calendar](http://qiita.com/advent-calendar/git) 6日目の記事です！
Git submodule って最初わかりにくいと思うので、基本的な説明をしようと..." property="og:description" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><link href="/icons/favicons/public/production.ico?v=4" rel="shortcut icon" type="image/x-icon" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link href="/icons/favicons/public/apple-touch-icon.png" rel="apple-touch-icon" /><link rel="stylesheet" media="all" href="http://cdn.qiita.com/assets/application-94612a2bf9aedf4afac5ba888bda90cffc9c3022aa27582d703c755f56e5f822.css" /><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="fbrFpfhQrmXvX7j+C6lbZJY9BvvLVpnRtgpVgeJgIBYQxAbABoHJA4XBBbj8f5KQP/rANL8F2sJecKz94sGdRg==" /></head><body class="without-js" id=""><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-TBQWPN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>
  document.body.className = document.body.className.replace('without-js', '') + ' with-js';
  window.Qiita = {"TLD":"com","controller_path":"public/items","controller_action":"public/items#show","controller":"items","action":"show","env":"production","flash":{},"is_landing_page":false,"is_team_page":false,"root_domain":"qiita.com","variant":null,"config":{"mixpanel":{"career":"dd35af27e959781713d63fd7ca898a8d","per_team":"c0a2116368b33b44b5029ebd2cc9b094","public":"be87616606b0e26a87689099aab2c4e5","team":"b7c0342acba2dbc8742484d98788efb3"},"default_locale":"ja","locale":"ja"},"team":null,"user":null,"GIT_BRANCH":null,"DEBUG":false};

</script>
<div class="headerContainer headerContainer-public" role="navigation"><div data-react-class="T.HeaderContainer" data-react-props="{&quot;user&quot;:null,&quot;team&quot;:null,&quot;news&quot;:{&quot;type&quot;:&quot;News&quot;,&quot;content&quot;:&quot;Qiita利用規約を一部修正しました&quot;,&quot;url&quot;:&quot;http://blog.qiita.com/post/150302968264/update-terms&quot;},&quot;initial_unread_count&quot;:null,&quot;siteid_image&quot;:&quot;http://cdn.qiita.com/assets/siteid-reverse-04252f9a0a01f3a6d03eefefb2a30602e854bf7a4d237969a35600c1bbc3f783.png&quot;,&quot;is_team_page&quot;:false,&quot;on_team_setting&quot;:false,&quot;show_post_menu&quot;:true,&quot;show_search_menu&quot;:true,&quot;is_fluid&quot;:false,&quot;locale&quot;:&quot;ja&quot;}"></div></div><div id="main"><ol class="itemBreadcrumbs" itemscope="" itemtype="http://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/"><span itemprop="name">Qiita</span></a><meta content="1" itemprop="position" /></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/items"><span itemprop="name">投稿</span></a><meta content="2" itemprop="position" /></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/tags/Git"><span itemprop="name">Git</span></a><meta content="3" itemprop="position" /></li></ol><article itemscope="" itemtype="http://schema.org/Article"><div class="itemsShowHeader-adcalItem"><div class="container"><div class="row"><div class="col-sm-9"><div class="adventCalendarRibbon"><span><a class="adventCalendarRibbon_title" href="/advent-calendar/2012/git">Git Advent Calendar 2012 / Jun</a> 6日目</span></div><h1 class="itemsShowHeaderTitle_title" itemprop="name">Git submodule の基礎</h1><ul class="list-unstyled list-inline itemsShowHeaderTags"><li class="itemsShowHeaderTags_list"><div class="tagIcon"><a class="tagIcon_base" href="/tags/Git"><img alt="Git" class="tagIcon_img" src="https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/5d9ff7508a0c2d5bfa9536b6a0fe1864c11cee89/medium.jpg?1387912380" /><div class="tagIcon_name">Git</div><div class="tagIcon_count">3958</div></a></div></li><li class="itemsShowHeaderTags_list"><div class="tagIcon"><a class="tagIcon_base" href="/tags/AdventCalendar"><img alt="AdventCalendar" class="tagIcon_img" src="https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/7b499aba822c4e819de19921890149955473f9f3/medium.jpg?1364839220" /><div class="tagIcon_name">AdventCalendar</div><div class="tagIcon_count">528</div></a></div></li></ul><ul class="list-unstyled list-inline itemsShowHeaderTitle_status"><li><a href="/sotarok"><img alt="" class="itemsShowHeaderTitle_authorIcon" src="https://qiita-image-store.s3.amazonaws.com/0/59/profile-images/1473683095" /></a><a href="/sotarok">sotarok</a>が<time datetime="2012-06-06T23:58:30+09:00" itemprop="datePublished">2012/06/06</time>に投稿(<time datetime="2015-07-30T17:36:58+09:00" itemprop="dateModified">2015/07/30</time>に編集)</li><li><a href="/sotarok/items/0d525e568a6088f6f6bb/revisions">編集履歴(3)</a></li><li><a data-target=".js-report-form" data-toggle="modal" href="#">問題がある投稿を報告する</a></li></ul><div class="js-report-form modal fade reportForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">問題がある投稿を報告する</h4></div><div class="modal-body"><form action="/reports" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="3Ro1fXFWLgtX/wLiIq+cBj3UQcG4PhSSJZzr4UEkrcGwZPYYj4dJbT1hv6TVeVXylBOHDsxtV4HN5hKdQYUQkQ==" /><input type="hidden" name="redirect_path" id="redirect_path" value="/sotarok/items/0d525e568a6088f6f6bb" /><input type="hidden" name="item_uuid" id="item_uuid" value="0d525e568a6088f6f6bb" /><p>この投稿にどのような問題がありますか？</p><br /><div class="form-group"><ul class="list-unstyled"><li><label><input type="radio" name="report_type" id="report_type_spam" value="spam" required="required" /> スパムです </label></li><li><label><input type="radio" name="report_type" id="report_type_harassment" value="harassment" required="required" /> 攻撃的または迷惑な内容を含んでいます </label></li><li><label><input type="radio" name="report_type" id="report_type_inappropriate_content" value="inappropriate_content" required="required" /> 不適切な内容を含んでいます </label></li></ul></div><div class="reportForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary reportForm_submitButton"><i class="fa fa-send"></i> 送信</button></div></form></div></div></div></div></div><div class="col-sm-3"><div class="itemsShowHeaderStock"><ul class="list-unstyled itemsShowHeaderStock_statusList"><li><div class="itemsShowHeaderStock_count stock"><i class="fa fa-stock"></i><span class="js-stocksCount">1186</span></div><div class="itemsShowHeaderStock_countText">ストック</div></li><li><div class="itemsShowHeaderStock_count" content="1 UserComments" itemprop="interactionCount"><i class="fa fa-comment-o"></i>1</div><div class="itemsShowHeaderStock_countText">コメント</div></li></ul><span class="js-stockButton itemStockButton" data-counter=".js-stocksCount" data-path="/sotarok/items/0d525e568a6088f6f6bb" data-position="top" data-uuid="0d525e568a6088f6f6bb"><form class="button_to" method="post" action="/sotarok/items/0d525e568a6088f6f6bb/stock"><button class="btn btn-default btn-block itemStockButton_button-stock" type="submit"><i class="fa fa-stock unstock hidden-sm"></i>ストック</button><input type="hidden" name="authenticity_token" value="Kmb3WEldUmSoa0x3X/jkjKIn3USPSsHjzM8fhwmMjKNHGDQ9t4w1AsL18TGoLi14C+Abi/sZgvAkteb7CS0x8w==" /></form><div class="btn btn-primary btn-block itemStockButton_button-stocking">ストック済み</div><form class="button_to" method="post" action="/sotarok/items/0d525e568a6088f6f6bb/unstock"><button class="btn btn-danger btn-block itemStockButton_button-unstock" type="submit">解除</button><input type="hidden" name="authenticity_token" value="ZwbQ9OGrCV9sU1YqgD5eem7nRb8gcWciYCENzRXh6JwKeBORH3puOQbN62x36JeOxyCDcFQiJDGIW/SxFUBVzA==" /></form></span></div><ul class="list-unstyled list-inline itemsShowHeaderStock_stockUsers"><li><a href="/yaotti"><img alt="yaotti" src="https://qiita-image-store.s3.amazonaws.com/0/1/profile-images/1473681698" /></a></li><li><a href="/kony"><img alt="kony" src="https://qiita-image-store.s3.amazonaws.com/0/2/profile-images/1473681362" /></a></li><li><a href="/kk6"><img alt="kk6" src="https://qiita-image-store.s3.amazonaws.com/0/86/profile-images/1473684027" /></a></li><li><a href="/htomine"><img alt="htomine" src="https://qiita-image-store.s3.amazonaws.com/0/123/profile-images/1473681399" /></a></li><li><a href="/yucchiy"><img alt="yucchiy" src="https://qiita-image-store.s3.amazonaws.com/0/148/profile-images/1473681626" /></a></li><li><a href="/tsuwatch"><img alt="tsuwatch" src="https://qiita-image-store.s3.amazonaws.com/0/150/profile-images/1473755300" /></a></li><li><a href="/yuku_t"><img alt="yuku_t" src="https://qiita-image-store.s3.amazonaws.com/0/153/profile-images/1473681719" /></a></li><li><a href="/yasunori"><img alt="yasunori" src="https://qiita-image-store.s3.amazonaws.com/0/176/profile-images/1473682067" /></a></li><li><a href="/mollifier"><img alt="mollifier" src="https://qiita-image-store.s3.amazonaws.com/0/204/profile-images/1473682474" /></a></li><li><a href="/yuya_takeyama"><img alt="yuya_takeyama" src="https://qiita-image-store.s3.amazonaws.com/0/208/profile-images/1473682551" /></a></li><li class="itemsShowHeaderStock_stockUsers_showAllStockers"><a href="/sotarok/items/0d525e568a6088f6f6bb/stockers"><i class="fa fa-ellipsis-h"></i></a></li></ul></div></div></div></div><div class="container itemsShowBody"><div class="row scroll-chaser-wrapper"><div class="col-sm-9 itemsShowBody_articleColumn"><section class="markdownContent markdownContent-headingEnabled js-task-list-container clearfix position-relative" id="item-0d525e568a6088f6f6bb" itemprop="articleBody"><div class="alert alert-warning"><i class="fa fa-clock-o"></i> この記事は最終更新日から1年以上が経過しています。</div><p>この記事は <a href="http://qiita.com/advent-calendar/git">Git Advent Calendar</a> 6日目の記事です！<br>
Git submodule って最初わかりにくいと思うので、基本的な説明をしようと思います。</p>

<h2>
<span id="git-submodule-とは" class="fragment"></span><a href="#git-submodule-%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>git submodule とは</h2>

<p><code>git submodule</code> は、外部の git リポジトリを、自分の git リポジトリのサブディレクトリとして登録し、特定の commit を参照する仕組みです。<br>
Subversion でいうところの、external と似ています。</p>

<p>さて、解説のため、手元に、リポジトリA (/path/to/a) とAの submodule として、よく使う例として  Bootstrap (元Twitter Bootstrap) を登録してみます。</p>

<p>git submodule を理解するうえで重要なのは、</p>

<ul>
<li>リポジトリAが指し示すsubmoduleとしてのBootstrapのcommit</li>
<li>現在のBootstrapのcommit</li>
</ul>

<p>です。</p>

<h2>
<span id="git-submodule-add-してみる" class="fragment"></span><a href="#git-submodule-add-%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>git submodule add してみる</h2>

<p>では、リポジトリA内、submodule add してみます。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>
<span class="nv">$ </span>git submodule add https://github.com/twbs/bootstrap.git bootstrap
Cloning into <span class="s1">'bootstrap'</span>...
remote: Counting objects: 73135, <span class="k">done</span>.
remote: Compressing objects: 100% <span class="o">(</span>15/15<span class="o">)</span>, <span class="k">done</span>.
remote: Total <span class="m">73135</span> <span class="o">(</span>delta 6<span class="o">)</span>, reused <span class="m">0</span> <span class="o">(</span>delta 0<span class="o">)</span>, pack-reused 73120
Receiving objects: 100% <span class="o">(</span>73135/73135<span class="o">)</span>, 85.84 MiB <span class="p">|</span> 3.91 MiB/s, <span class="k">done</span>.
Resolving deltas: 100% <span class="o">(</span>44541/44541<span class="o">)</span>, <span class="k">done</span>.
Checking connectivity... <span class="k">done</span>.
</pre></div></div>

<p>これで 手元の <code>bootstrap</code> ディレクトリに、GitHub にある Bootstrap が submodule として登録されました。<br>
git status をみてみると .gitmodules というファイルと、submodule の入れものである <code>bootstrap</code> というディレクトリが新しく登録されています。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>
<span class="nv">$ </span>git status
<span class="c"># On branch master</span>
<span class="c"># Changes to be committed:</span>
<span class="c">#   (use "git reset HEAD &lt;file&gt;..." to unstage)</span>
<span class="c">#</span>
<span class="c">#       new file:   .gitmodules</span>
<span class="c">#       new file:   bootstrap</span>
<span class="c">#</span>
</pre></div></div>

<p>diff も確認します。</p>

<div class="code-frame" data-lang="diff"><div class="highlight"><pre>
$ git diff --cached
<span class="gh">diff --git a/.gitmodules b/.gitmodules</span>
new file mode 100644
<span class="gh">index 0000000..2fdbccb</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/.gitmodules</span>
<span class="gu">@@ -0,0 +1,3 @@</span>
<span class="gi">+[submodule "bootstrap"]</span>
<span class="gi">+       path = bootstrap</span>
<span class="gi">+       url = https://github.com/twbs/bootstrap.git</span>
<span class="gh">diff --git a/bootstrap b/bootstrap</span>
new file mode 160000
<span class="gh">index 0000000..5c02844</span>
<span class="gd">--- /dev/null</span>
<span class="gi">+++ b/bootstrap</span>
<span class="gu">@@ -0,0 +1 @@</span>
<span class="gi">+Subproject commit 5c028448c1fc171cf4a0fd99d3a672b649bef2aa</span>
</pre></div></div>

<p>注目すべきは、 <code>+Subproject commit 5c028448c1fc171cf4a0fd99d3a672b649bef2aa</code> の diff で、これは、</p>

<ul>
<li>Bootstrap の、 <code>5c028448c1fc171cf4a0fd99d3a672b649bef2aa</code> コミットを、</li>
<li>
<code>bootstrap</code> ディレクトリに Submodule として登録した</li>
</ul>

<p>という意味になります。<br>
これをコミットしておきます。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>
<span class="nv">$ </span>git commit -m <span class="s2">"Add Twitter Bootstrap as a submodule"</span>
</pre></div></div>

<p>では、ためしに、bootstrapディレクトリに移動して、<code>git show</code> してみると、</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>
<span class="nv">$ </span><span class="nb">cd </span>bootstrap
<span class="nv">$ </span>git show
commit 5c028448c1fc171cf4a0fd99d3a672b649bef2aa
Merge: 5e7c5a6 0c4c1e4
Author: Chris Rebert &lt;github@rebertia.com&gt;
Date:   Wed Jul <span class="m">29</span> 15:00:54 <span class="m">2015</span> -0700

    Merge pull request <span class="c">#16908 from twbs/crbug-309483</span>

    Remove http://crbug.com/309483 from the Wall of Browser Bugs
</pre></div></div>

<p>たしかに、現在、<code>5c028448c1fc171cf4a0fd99d3a672b649bef2aa</code> にいることがわかります。</p>

<h2>
<span id="submodule-を更新する" class="fragment"></span><a href="#submodule-%E3%82%92%E6%9B%B4%E6%96%B0%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>Submodule を更新する</h2>

<p>いま追加した Bootstrap は、master ブランチの最新のコミットでした。<br>
プロジェクトでは、別のブランチの Bootstarp が使いたくなったとします。たとえば、現在進行中の <code>14226-rebased</code> ブランチを使いたいとしましょう。 (このブランチ名等は、タイミングや、Submodule に追加するプロジェクトによって変わりますので、適宜読み替えてください)</p>

<p>このときの手順は、</p>

<ul>
<li>submodule のディレクトリに入り、対象のブランチやコミットをチェックアウトする</li>
<li>submodule の外側に戻り、その submodule の現在のコミットを記録する (指し示す先を変更する)</li>
</ul>

<p>という手順になります。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>
<span class="nv">$ </span><span class="nb">cd </span>bootstrap
<span class="nv">$ </span>git branch -a
* master
  remotes/origin/14226-rebased
  remotes/origin/HEAD -&gt; origin/master
  remotes/origin/bhamodi-update-dependencies
  remotes/origin/bundler
  remotes/origin/derp
  remotes/origin/fix-15534
  remotes/origin/fix-popover-setContent
  remotes/origin/gh-pages
  remotes/origin/master
  remotes/origin/travis2

<span class="nv">$ </span>git checkout 14226-rebased
Branch 14226-rebased <span class="nb">set </span>up to track remote branch 14226-rebased from origin.
Switched to a new branch <span class="s1">'14226-rebased'</span>
</pre></div></div>

<p>この状態で外に戻ると、</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>
<span class="nv">$ </span><span class="nb">cd</span> ..
<span class="nv">$ </span>git status
Changes not staged <span class="k">for</span> commit:
  <span class="o">(</span>use <span class="s2">"git add &lt;file&gt;..."</span> to update what will be committed<span class="o">)</span>
  <span class="o">(</span>use <span class="s2">"git checkout -- &lt;file&gt;..."</span> to discard changes in working directory<span class="o">)</span>

    modified:   bootstrap <span class="o">(</span>new commits<span class="o">)</span>

no changes added to commit <span class="o">(</span>use <span class="s2">"git add"</span> and/or <span class="s2">"git commit -a"</span><span class="o">)</span>
</pre></div></div>

<p>bootstrap ディレクトリに diff が出た状態となっています。</p>

<div class="code-frame" data-lang="diff"><div class="highlight"><pre>
$ git diff
<span class="gh">diff --git a/bootstrap b/bootstrap</span>
<span class="gh">index 5c02844..88697c0 160000</span>
<span class="gd">--- a/bootstrap</span>
<span class="gi">+++ b/bootstrap</span>
<span class="gu">@@ -1 +1 @@</span>
<span class="gd">-Subproject commit 5c028448c1fc171cf4a0fd99d3a672b649bef2aa</span>
<span class="gi">+Subproject commit 88697c03a9315b5f1944fc82534a824aafebda0e</span>
</pre></div></div>

<p>これが、submodule がコミットを記録する仕組みで、つまり、</p>

<ul>
<li>リポジトリAの参照する Bootstrap のコミットが、<code>5c028448c1fc171cf4a0fd99d3a672b649bef2aa</code> から <code>88697c03a9315b5f1944fc82534a824aafebda0e</code> に変更されたという意味になります。</li>
</ul>

<p>これを add してコミットしておきます</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>
<span class="nv">$ </span>git add bootstrap
<span class="nv">$ </span>git commit -m <span class="s2">"Update submodule: Bootstrap"</span>
</pre></div></div>

<h2>
<span id="リポジトリaで別のコミットをチェックアウトする--git-submodule-update" class="fragment"></span><a href="#%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AAa%E3%81%A7%E5%88%A5%E3%81%AE%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%82%92%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%E3%82%A2%E3%82%A6%E3%83%88%E3%81%99%E3%82%8B--git-submodule-update"><i class="fa fa-link"></i></a>リポジトリAで別のコミットをチェックアウトする &amp; git submodule update</h2>

<p>submodule のわかりづらい点としては、おそらく、<strong>リポジトリA (submodule の外側) と submodule の中が連動しない</strong> という点ではないでしょうか。</p>

<p>たとえば、今の状態で、リポジトリAでひとつ前のコミットをチェックアウトしてみるとします。(今回はミニマムなgitリポジトリなので直前のコミットをチェックアウトしますが、実際いろいろな作業では、他のブランチをチェックアウトしたり、そういう操作の例として、です)</p>

<p>まずは、チェックアウトするため、ログを確認。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>
<span class="nv">$ </span>git log --oneline
284ffed Update submodule: Bootstrap
45db3c1 Add Twitter Bootstrap as a submodule
30ef9ed initial commit
</pre></div></div>

<p>一つ前なので、 <code>45db3c1</code> をチェックアウトします。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>
<span class="nv">$ </span>git checkout 45db3c1
...
HEAD is now at 45db3c1... Add Twitter Bootstrap as a submodule
</pre></div></div>

<p>この状態で status を見てみると、</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>
<span class="nv">$ </span>git status
HEAD detached at 45db3c1
Changes not staged <span class="k">for</span> commit:
  <span class="o">(</span>use <span class="s2">"git add &lt;file&gt;..."</span> to update what will be committed<span class="o">)</span>
  <span class="o">(</span>use <span class="s2">"git checkout -- &lt;file&gt;..."</span> to discard changes in working directory<span class="o">)</span>

    modified:   bootstrap <span class="o">(</span>new commits<span class="o">)</span>

no changes added to commit <span class="o">(</span>use <span class="s2">"git add"</span> and/or <span class="s2">"git commit -a"</span><span class="o">)</span>
</pre></div></div>

<p>あれ！bootstrap ディレクトリに diff がでてしまいました。<br>
これが、<strong>連動しない、というわかりにくい点</strong> と言った点です。</p>

<ul>
<li>外側のリポジトリで前のコミットをチェックアウトしたため、そのコミット時点での submodule としての bootstrap は <code>5c028448c1fc171cf4a0fd99d3a672b649bef2aa</code> が記録されている</li>
<li>しかし、bootstrap の内側は、先程操作したため、<code>88697c03a9315b5f1944fc82534a824aafebda0e</code> を指し示したまま</li>
</ul>

<p>という状態になっています。リポジトリA上で色々なブランチやコミットを移動しても、submodule 内は自動的にチェックアウトされたりはしないんですよね。<br>
そこで、</p>

<ul>
<li>boostrapディレクトリ内を、コミット <code>88697c0</code> が指し示している bootstrap のコミット <code>5c02844</code> にする</li>
</ul>

<p>という操作が、</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>
<span class="nv">$ </span>git submodule update
</pre></div></div>

<p>というコマンドになります。submodule update というコマンド名は、「submoduleを更新する」という意味なので、考えてみればそのままの意味なのですが、わかってないと混乱してしまいますね。</p>

<p>これで、</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>
<span class="nv">$ </span>git status
</pre></div></div>

<p>が clean な状態となり、 bootstrap ディレクトリの中に入って確認してみると、<code>5c02844</code> がチェックアウトされた状態になっています。</p>

<h2>
<span id="まとめとその他のこと" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81%E3%81%A8%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E3%81%93%E3%81%A8"><i class="fa fa-link"></i></a>まとめとその他のこと</h2>

<p>時間がなくなってきたので強引にまとめに入ると、</p>

<ul>
<li>submodule として追加したディレクトリは、ただの外部リポジトリへ参照を記録した箱である</li>
<li>submodule の外側は、その箱のどのコミットを参照しているのかを記録している</li>
<li>submodule の内側は、基本的には、自分が操作したときにしか更新されない</li>
</ul>

<p>よくある現象集:</p>

<ul>
<li>git pull したら submodule に <code>(new commits)</code> とか出た

<ul>
<li>これは、自分以外の誰かが submodule を更新した (指し示すコミットを変更した) 場合です</li>
<li>さっきの、<code>0a30745</code> をチェックアウトしたときと同じ</li>
<li>
<code>git submodule update</code> すれば、その指し示すコミットがチェックアウトされる</li>
</ul>
</li>
<li>git status したら submodule に <code>(modified content)</code> とか出てる

<ul>
<li>これは、submodule 内に diff がある状態です。今回の例で言えば、bootstrapディレクトリ内のなにかのファイルを変更したりすると、リポジトリAではこういうふうにいわれます</li>
<li>もとに戻したいなら、bootstrapディレクトリ内をcleanな状態にします。<code>git checkout</code>とかで変更ファイルをなくしたり。</li>
<li>中でコミットなどをすると、 <code>(new commits)</code> になります。

<ul>
<li>submodule の中身を変更して、そのコミットをリポジトリAから指し示したい場合、さらに <code>git add bootstrap</code> して <code>git commit</code> します。内側でコミット、外側でもそれをコミット、という形</li>
</ul>
</li>
</ul>
</li>
</ul>

<p>あとなんだっけ、もっと書きたいことがあったけど忘れたのでまた思い出したら書きます。</p>
<div class="hidden"><form class="js-task-list-update" action="/sotarok/items/0d525e568a6088f6f6bb" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="_method" value="patch" /><input type="hidden" name="authenticity_token" value="iGuucxsEVYZDlMV//z8JJVhhsZANGy2nir7wY3SCZ/flFW0W5dUy4CkKeDkI6cDR8aZ3X3lIbrRixAkfdCPapw==" /><input type="hidden" name="updated_at_confirmation_in_unixtime" id="updated_at_confirmation_in_unixtime" value="1438245418" class="js-task-list-updated-at" /><textarea name="raw_body" id="raw_body" class="js-task-list-field">
この記事は [Git Advent Calendar](http://qiita.com/advent-calendar/git) 6日目の記事です！
Git submodule って最初わかりにくいと思うので、基本的な説明をしようと思います。

## git submodule とは

`git submodule` は、外部の git リポジトリを、自分の git リポジトリのサブディレクトリとして登録し、特定の commit を参照する仕組みです。
Subversion でいうところの、external と似ています。


さて、解説のため、手元に、リポジトリA (/path/to/a) とAの submodule として、よく使う例として  Bootstrap (元Twitter Bootstrap) を登録してみます。

git submodule を理解するうえで重要なのは、

* リポジトリAが指し示すsubmoduleとしてのBootstrapのcommit
* 現在のBootstrapのcommit

です。


## git submodule add してみる

では、リポジトリA内、submodule add してみます。

```bash:
$ git submodule add https://github.com/twbs/bootstrap.git bootstrap
Cloning into &#39;bootstrap&#39;...
remote: Counting objects: 73135, done.
remote: Compressing objects: 100% (15/15), done.
remote: Total 73135 (delta 6), reused 0 (delta 0), pack-reused 73120
Receiving objects: 100% (73135/73135), 85.84 MiB | 3.91 MiB/s, done.
Resolving deltas: 100% (44541/44541), done.
Checking connectivity... done.
```

これで 手元の `bootstrap` ディレクトリに、GitHub にある Bootstrap が submodule として登録されました。
git status をみてみると .gitmodules というファイルと、submodule の入れものである `bootstrap` というディレクトリが新しく登録されています。

```bash:
$ git status
# On branch master
# Changes to be committed:
#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)
#
#       new file:   .gitmodules
#       new file:   bootstrap
#
```

diff も確認します。


```diff:
$ git diff --cached
diff --git a/.gitmodules b/.gitmodules
new file mode 100644
index 0000000..2fdbccb
--- /dev/null
+++ b/.gitmodules
@@ -0,0 +1,3 @@
+[submodule &quot;bootstrap&quot;]
+       path = bootstrap
+       url = https://github.com/twbs/bootstrap.git
diff --git a/bootstrap b/bootstrap
new file mode 160000
index 0000000..5c02844
--- /dev/null
+++ b/bootstrap
@@ -0,0 +1 @@
+Subproject commit 5c028448c1fc171cf4a0fd99d3a672b649bef2aa
```

注目すべきは、 `+Subproject commit 5c028448c1fc171cf4a0fd99d3a672b649bef2aa` の diff で、これは、

* Bootstrap の、 `5c028448c1fc171cf4a0fd99d3a672b649bef2aa` コミットを、
* `bootstrap` ディレクトリに Submodule として登録した

という意味になります。
これをコミットしておきます。

```bash:
$ git commit -m &quot;Add Twitter Bootstrap as a submodule&quot;
```

では、ためしに、bootstrapディレクトリに移動して、`git show` してみると、

```bash:
$ cd bootstrap
$ git show
commit 5c028448c1fc171cf4a0fd99d3a672b649bef2aa
Merge: 5e7c5a6 0c4c1e4
Author: Chris Rebert &lt;github@rebertia.com&gt;
Date:   Wed Jul 29 15:00:54 2015 -0700

    Merge pull request #16908 from twbs/crbug-309483

    Remove http://crbug.com/309483 from the Wall of Browser Bugs
```

たしかに、現在、`5c028448c1fc171cf4a0fd99d3a672b649bef2aa` にいることがわかります。


## Submodule を更新する

いま追加した Bootstrap は、master ブランチの最新のコミットでした。
プロジェクトでは、別のブランチの Bootstarp が使いたくなったとします。たとえば、現在進行中の `14226-rebased` ブランチを使いたいとしましょう。 (このブランチ名等は、タイミングや、Submodule に追加するプロジェクトによって変わりますので、適宜読み替えてください)

このときの手順は、

* submodule のディレクトリに入り、対象のブランチやコミットをチェックアウトする
* submodule の外側に戻り、その submodule の現在のコミットを記録する (指し示す先を変更する)

という手順になります。

```bash:
$ cd bootstrap
$ git branch -a
* master
  remotes/origin/14226-rebased
  remotes/origin/HEAD -&gt; origin/master
  remotes/origin/bhamodi-update-dependencies
  remotes/origin/bundler
  remotes/origin/derp
  remotes/origin/fix-15534
  remotes/origin/fix-popover-setContent
  remotes/origin/gh-pages
  remotes/origin/master
  remotes/origin/travis2

$ git checkout 14226-rebased
Branch 14226-rebased set up to track remote branch 14226-rebased from origin.
Switched to a new branch &#39;14226-rebased&#39;
```

この状態で外に戻ると、

```bash:
$ cd ..
$ git status
Changes not staged for commit:
  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)

	modified:   bootstrap (new commits)

no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
```

bootstrap ディレクトリに diff が出た状態となっています。

```diff:
$ git diff
diff --git a/bootstrap b/bootstrap
index 5c02844..88697c0 160000
--- a/bootstrap
+++ b/bootstrap
@@ -1 +1 @@
-Subproject commit 5c028448c1fc171cf4a0fd99d3a672b649bef2aa
+Subproject commit 88697c03a9315b5f1944fc82534a824aafebda0e
```

これが、submodule がコミットを記録する仕組みで、つまり、

* リポジトリAの参照する Bootstrap のコミットが、`5c028448c1fc171cf4a0fd99d3a672b649bef2aa` から `88697c03a9315b5f1944fc82534a824aafebda0e` に変更されたという意味になります。

これを add してコミットしておきます

```bash:
$ git add bootstrap
$ git commit -m &quot;Update submodule: Bootstrap&quot;
```


## リポジトリAで別のコミットをチェックアウトする &amp; git submodule update

submodule のわかりづらい点としては、おそらく、**リポジトリA (submodule の外側) と submodule の中が連動しない** という点ではないでしょうか。

たとえば、今の状態で、リポジトリAでひとつ前のコミットをチェックアウトしてみるとします。(今回はミニマムなgitリポジトリなので直前のコミットをチェックアウトしますが、実際いろいろな作業では、他のブランチをチェックアウトしたり、そういう操作の例として、です)

まずは、チェックアウトするため、ログを確認。

```bash:
$ git log --oneline
284ffed Update submodule: Bootstrap
45db3c1 Add Twitter Bootstrap as a submodule
30ef9ed initial commit
```

一つ前なので、 `45db3c1` をチェックアウトします。

```bash:
$ git checkout 45db3c1
...
HEAD is now at 45db3c1... Add Twitter Bootstrap as a submodule
```

この状態で status を見てみると、

```bash:
$ git status
HEAD detached at 45db3c1
Changes not staged for commit:
  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)

	modified:   bootstrap (new commits)

no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
```

あれ！bootstrap ディレクトリに diff がでてしまいました。
これが、**連動しない、というわかりにくい点** と言った点です。

* 外側のリポジトリで前のコミットをチェックアウトしたため、そのコミット時点での submodule としての bootstrap は `5c028448c1fc171cf4a0fd99d3a672b649bef2aa` が記録されている
* しかし、bootstrap の内側は、先程操作したため、`88697c03a9315b5f1944fc82534a824aafebda0e` を指し示したまま

という状態になっています。リポジトリA上で色々なブランチやコミットを移動しても、submodule 内は自動的にチェックアウトされたりはしないんですよね。
そこで、

* boostrapディレクトリ内を、コミット `88697c0` が指し示している bootstrap のコミット `5c02844` にする

という操作が、

```bash:
$ git submodule update
```

というコマンドになります。submodule update というコマンド名は、「submoduleを更新する」という意味なので、考えてみればそのままの意味なのですが、わかってないと混乱してしまいますね。

これで、

```bash:
$ git status
```

が clean な状態となり、 bootstrap ディレクトリの中に入って確認してみると、`5c02844` がチェックアウトされた状態になっています。


## まとめとその他のこと

時間がなくなってきたので強引にまとめに入ると、

* submodule として追加したディレクトリは、ただの外部リポジトリへ参照を記録した箱である
* submodule の外側は、その箱のどのコミットを参照しているのかを記録している
* submodule の内側は、基本的には、自分が操作したときにしか更新されない

よくある現象集:

* git pull したら submodule に `(new commits)` とか出た
    * これは、自分以外の誰かが submodule を更新した (指し示すコミットを変更した) 場合です
    * さっきの、`0a30745` をチェックアウトしたときと同じ
    * `git submodule update` すれば、その指し示すコミットがチェックアウトされる
* git status したら submodule に `(modified content)` とか出てる
    * これは、submodule 内に diff がある状態です。今回の例で言えば、bootstrapディレクトリ内のなにかのファイルを変更したりすると、リポジトリAではこういうふうにいわれます
    * もとに戻したいなら、bootstrapディレクトリ内をcleanな状態にします。`git checkout`とかで変更ファイルをなくしたり。
    * 中でコミットなどをすると、 `(new commits)` になります。
        * submodule の中身を変更して、そのコミットをリポジトリAから指し示したい場合、さらに `git add bootstrap` して `git commit` します。内側でコミット、外側でもそれをコミット、という形

あとなんだっけ、もっと書きたいことがあったけど忘れたのでまた思い出したら書きます。

</textarea><input type="submit" name="commit" value="Save changes" /></form></div></section><div class="itemsShowBody_adventCalendar"><div class="itemsShowBody_adventCalendar_header"><i class="fa fa-fw fa-calendar"></i> この投稿は <a class="title" href="/advent-calendar/2012/git">Git Advent Calendar 2012 / Jun</a> の <span class="date">6日目</span>の記事です。</div><ul class="itemsShowBody_adventCalendar_nav list-unstyled"><li class="itemsShowBody_adventCalendar_neighborItem itemsShowBody_adventCalendar_neighborItem-prev"><span class="itemsShowBody_adventCalendar_date"><i class="fa fa-fw fa-arrow-circle-left"></i> 5日目の記事:</span><span class="itemsShowBody_adventCalendar_title"><img alt="puriketu99" class="itemsShowBody_adventCalendar_icon" src="https://qiita-image-store.s3.amazonaws.com/0/1630/profile-images/1473683734" width="18" height="18" /> <a class="itemsShowBody_adventCalendar_link" href="/puriketu99/items/a0f5397e88db78329309">herokuにgitでリリースするまでを割と丁寧に解説する</a></span></li><li class="itemsShowBody_adventCalendar_neighborItem itemsShowBody_adventCalendar_neighborItem-next"><span class="itemsShowBody_adventCalendar_date"><i class="fa fa-fw fa-arrow-circle-right"></i> 7日目の記事:</span><span class="itemsShowBody_adventCalendar_title"><img alt="sugyan" class="itemsShowBody_adventCalendar_icon" src="https://qiita-image-store.s3.amazonaws.com/0/3245/profile-images/1473682843" width="18" height="18" /> <a class="itemsShowBody_adventCalendar_link" href="/sugyan/items/83e060e895fa8ef2038c">get current branch name</a></span></li></ul></div><ul class="references js-referencesView"><li class="references_header"><i class="fa fa-fw fa-link"></i> この記事は以下の記事からリンクされています</li><a class="references_toggleOldReferences js-toggleOldReferences" href="#"><i class="fa fa-expand js-toggleOldReferencesIcon"></i><span class="js-toggleOldReferencesText">過去の1件を表示する</span></a><li class="references_reference js-reference js-oldReference"><a href="/ma2saka/items/4bd00ef6f8c240847807"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/17911/profile-images/1473682291" />自分が必要とする最低限の git submodule の知識</a><span>からリンク</span><time class="references_datetime js-dateTimeView" datetime="2013-10-27T16:43:44+00:00">3年弱前</time></li><li class="references_reference js-reference"><a href="/yuu116atlab/items/7cf8efca06f80170eb22"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/6865/profile-images/1473683950" />自分の.emacs.dをgitへ出しておく</a><span>からリンク</span><time class="references_datetime js-dateTimeView" datetime="2014-02-15T07:30:44+00:00">2年以上前</time></li><li class="references_reference js-reference"><a href="/tarr1124/items/11e890733a692bc9d123"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/36604/profile-images/1473687133" />アホみたいにでかいgit repositoryを上手く扱う方法</a><span>からリンク</span><time class="references_datetime js-dateTimeView" datetime="2014-05-26T05:01:45+00:00">2年以上前</time></li><li class="references_reference js-reference"><a href="/progre/items/51606ec4c82d6311e4b1"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/3790/profile-images/1473683535" />TypeScriptを書く前に押さえておきたい型定義の扱い。またはtsdを投げ捨てる理由</a><span>からリンク</span><time class="references_datetime js-dateTimeView" datetime="2014-12-09T15:00:26+00:00">2年弱前</time></li><li class="references_reference js-reference"><a href="/mokumoku/items/a05c27eb921460e8404a"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/56442/profile-images/1473694000" />Swift で WebAPI を叩いてみる</a><span>からリンク</span><time class="references_datetime js-dateTimeView" datetime="2014-12-18T18:34:39+00:00">1年以上前</time></li><li class="references_reference js-reference"><a href="/satoshin2071/items/28831fadff4aca79a140"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/6691/profile-images/1473683166" />GhostをBusterでGithubPagesにホスティングする</a><span>からリンク</span><time class="references_datetime js-dateTimeView" datetime="2015-10-30T13:53:21+00:00">11ヶ月前</time></li></ul><div class="itemsShowBody_articleColumnFooter"><a class="btn btn-sm btn-primary itemsShowBody_articleColumnFooter_request" href="/drafts/0d525e568a6088f6f6bb/edit"><i class="fa fa-send-o"></i> 編集リクエストを送る</a><span class="itemsShowBody_articleColumnFooter_requestDescription">投稿者に記事をより良くするための提案ができます 💪</span><div class="socialButtons"><div class="socialButtons_twitter"><a class="twitter-share-button" data-text="Git submodule の基礎 by @sotarok on @Qiita" data-url="http://qiita.com/sotarok/items/0d525e568a6088f6f6bb" href="https://twitter.com/share">ツイート</a></div><div class="socialButtons_hatebu"><a class="hatena-bookmark-button" data-hatena-bookmark-layout="simple-balloon" data-hatena-bookmark-title="Git submodule の基礎" href="http://b.hatena.ne.jp/entry/http://qiita.com/sotarok/items/0d525e568a6088f6f6bb" title="はてブに追加"><img alt="はてブに追加" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20" /></a><script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js" type="text/javascript"></script></div><div class="socialButtons_googlePlus"><div class="g-plusone" data-href="http://qiita.com/sotarok/items/0d525e568a6088f6f6bb" data-size="medium"></div></div><div class="socialButtons_facebook"><div class="fb-like" data-action="like" data-href="http://qiita.com/sotarok/items/0d525e568a6088f6f6bb" data-layout="button_count" data-share="false" data-show-faces="false"></div></div><div class="socialButtons_pocket"><a class="pocket-btn" data-lang="en" data-pocket-count="horizontal" data-pocket-label="pocket"></a></div></div><div class="text-advertisement"><span class="label label-info">PR</span> <a target="_blank" id="ad-48" href="https://teams.qiita.com/?utm_content=48&amp;utm_medium=text&amp;utm_source=qiita">社内メールでの情報共有をなくそう - Qiita:Team</a></div><script>window.addEventListener("DOMContentLoaded", function() {
  'use strict';
  QiitaAnalysis.showAdvertisement({ adId: 48 })
  $('#ad-48').click(function() {
    QiitaAnalysis.clickAdvertisement({
      type:  'text',
      place: 'bottom',
      adId:  48
    })
  });
});</script></div><div class="itemsShowComment"><div class="itemsShowComment_wrapper" id="comments"><div data-react-class="T.CommentListContainer" data-react-props="{&quot;currentUser&quot;:null,&quot;initialComments&quot;:[{&quot;banned&quot;:false,&quot;body&quot;:&quot;\n\u003ch1\u003e\n\u003cspan id=\&quot;cloneしてきたリポジトリがsubmoduleを使用している場合\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#clone%E3%81%97%E3%81%A6%E3%81%8D%E3%81%9F%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%81%8Csubmodule%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E5%A0%B4%E5%90%88\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003ecloneしてきたリポジトリがsubmoduleを使用している場合\u003c/h1\u003e\n\n\u003cp\u003esubmoduleを使ったリポジトリをcloneした時、そのままの状態では、submoduleのディレクトリは空です。\u003cbr\u003e\n\u003ccode\u003egit submodule init\u003c/code\u003eで初期化した後、\u003ccode\u003egit submodule update\u003c/code\u003eして初めてダウンロードされてきます。\u003c/p\u003e\n&quot;,&quot;created_at&quot;:&quot;2013-11-10T10:22:42+09:00&quot;,&quot;expanded_references&quot;:&quot;&quot;,&quot;id&quot;:12135,&quot;is_team&quot;:false,&quot;item_id&quot;:5943,&quot;item_type&quot;:&quot;PublicDomainArticle&quot;,&quot;item_uuid&quot;:&quot;0d525e568a6088f6f6bb&quot;,&quot;raw_body&quot;:&quot;# cloneしてきたリポジトリがsubmoduleを使用している場合\r\nsubmoduleを使ったリポジトリをcloneした時、そのままの状態では、submoduleのディレクトリは空です。\r\n`git submodule init`で初期化した後、`git submodule update`して初めてダウンロードされてきます。&quot;,&quot;reaction_types&quot;:[{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/unicode/1f44d.png&quot;,&quot;name&quot;:&quot;+1&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/unicode/1f44e.png&quot;,&quot;name&quot;:&quot;-1&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/unicode/1f389.png&quot;,&quot;name&quot;:&quot;tada&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/unicode/1f603.png&quot;,&quot;name&quot;:&quot;smiley&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/unicode/1f607.png&quot;,&quot;name&quot;:&quot;innocent&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/unicode/1f629.png&quot;,&quot;name&quot;:&quot;weary&quot;}],&quot;reactions&quot;:[],&quot;team&quot;:null,&quot;team_membership&quot;:null,&quot;thankable&quot;:false,&quot;thanked&quot;:false,&quot;thanks_count&quot;:13,&quot;updatable&quot;:false,&quot;url&quot;:&quot;http://qiita.com/sotarok/items/0d525e568a6088f6f6bb#comment-2b710ec5851c9d18f87b&quot;,&quot;user&quot;:{&quot;contribution&quot;:0,&quot;created_at&quot;:&quot;2013-11-10T10:16:14+09:00&quot;,&quot;id&quot;:32123,&quot;is_admin&quot;:false,&quot;profile_image_url&quot;:&quot;https://0.gravatar.com/avatar/35733ddf246af5e0349b594eaec1634f?d=https%3A%2F%2Fidenticons.github.com%2Fcb57e0ff1e855bbf67375ab26b1f4f4a.png\u0026r=x&quot;,&quot;suspended&quot;:false,&quot;url_name&quot;:&quot;tatekura&quot;},&quot;uuid&quot;:&quot;2b710ec5851c9d18f87b&quot;}],&quot;monthly_public_image_uploadable_size_limit&quot;:null,&quot;total_uploaded_public_image_size_in_current_month&quot;:null,&quot;item&quot;:{&quot;id&quot;:5943,&quot;uuid&quot;:&quot;0d525e568a6088f6f6bb&quot;,&quot;suspended&quot;:false},&quot;owner&quot;:{&quot;url_name&quot;:&quot;sotarok&quot;},&quot;is_team&quot;:false,&quot;is_project&quot;:false,&quot;logged_in&quot;:false,&quot;polling&quot;:false,&quot;mention_canditates&quot;:[{&quot;id&quot;:59,&quot;url_name&quot;:&quot;sotarok&quot;,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/59/profile-images/1473683095&quot;},{&quot;id&quot;:32123,&quot;url_name&quot;:&quot;tatekura&quot;,&quot;profile_image_url&quot;:&quot;https://0.gravatar.com/avatar/35733ddf246af5e0349b594eaec1634f?d=https%3A%2F%2Fidenticons.github.com%2Fcb57e0ff1e855bbf67375ab26b1f4f4a.png\u0026r=x&quot;}]}">Comments Loading...</div><div class="itemsShowCommentSignupOrLogin"><div class="itemsShowCommentSignupOrLogin_title">あなたもコメントしてみませんか :)</div><a class="btn btn-primary" track="click" data-label="RegisterToComment" href="/signup?redirect_to=%2Fsotarok%2Fitems%2F0d525e568a6088f6f6bb%23comments">ユーザー登録(無料)</a><div class="itemsShowCommentSignupOrLogin_sub">すでにアカウントを持っている方は<a href="/login?redirect_to=%2Fsotarok%2Fitems%2F0d525e568a6088f6f6bb%23comments">ログイン</a></div></div></div></div></div><div class="col-sm-3 itemsShowBody_subColumn"><div class="socialButtons"><div class="socialButtons_twitter"><a class="twitter-share-button" data-text="Git submodule の基礎 by @sotarok on @Qiita" data-url="http://qiita.com/sotarok/items/0d525e568a6088f6f6bb" href="https://twitter.com/share">ツイート</a></div><div class="socialButtons_hatebu"><a class="hatena-bookmark-button" data-hatena-bookmark-layout="simple-balloon" data-hatena-bookmark-title="Git submodule の基礎" href="http://b.hatena.ne.jp/entry/http://qiita.com/sotarok/items/0d525e568a6088f6f6bb" title="はてブに追加"><img alt="はてブに追加" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20" /></a><script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js" type="text/javascript"></script></div><div class="socialButtons_googlePlus"><div class="g-plusone" data-href="http://qiita.com/sotarok/items/0d525e568a6088f6f6bb" data-size="medium"></div></div><div class="socialButtons_facebook"><div class="fb-like" data-action="like" data-href="http://qiita.com/sotarok/items/0d525e568a6088f6f6bb" data-layout="button_count" data-share="false" data-show-faces="false"></div></div><div class="socialButtons_pocket"><a class="pocket-btn" data-lang="en" data-pocket-count="horizontal" data-pocket-label="pocket"></a></div></div><section class="itemsShowAuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><a href="/sotarok"><img alt="" class="itemsShowAuthorInfo_userIcon" itemprop="image" src="https://qiita-image-store.s3.amazonaws.com/0/59/profile-images/1473683095" /></a><div class="itemsShowAuthorInfo_profileStats"><strong class="itemsShowAuthorInfo_userName" itemprop="name"><a itemprop="url" href="/sotarok">sotarok</a></strong><div class="itemsShowAuthorInfo_contribution"><span class="itemsShowAuthorInfo_count">1674</span><span class="itemsShowAuthorInfo_unit">Contribution</span></div><div data-react-class="T.UserFollowButton" data-react-props="{&quot;url_name&quot;:&quot;sotarok&quot;,&quot;initial_followed_by&quot;:false,&quot;size&quot;:&quot;btn-xs&quot;,&quot;position&quot;:&quot;author-info&quot;}"></div></div><section class="itemsShowAuthorPopularItems"><h5 class="itemsShowAuthorPopularItems_sectionTitle">人気の投稿</h5><ul class="itemsShowAuthorPopularItems_posts list-unstyled"><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/sotarok/items/0d525e568a6088f6f6bb">Git submodule の基礎</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/sotarok/items/07c6b2cca5ed2f9a53a6">git rebase --onto どこへ どこから どのブランチを</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/sotarok/items/7003e2f4fa64b8fda3f7">Twitter Bootstrap のボタン要素の色とかを変えた独自のボタンを作る</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/sotarok/items/9f2ccffc23bd36534e2e">Shell Script での文字列操作</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/sotarok/items/1abb6c2747404c4e155b">Aura for PHP 雑感 (と PHPフレームワークについて徒然)</a></li></ul></section></section><div class="scroll-chaser"><div class="ad_frame_right_banner_1"></div><script async="" charset="UTF-8" defer="" src="//cdn-qiita.bigmining.com/js/adjs_set_pro.js" type="text/javascript"></script><div class="js-tocAnchor"></div></div></div></div></div></article><script id="js-item" type="application/json">{ "url": "http://qiita.com/sotarok/items/0d525e568a6088f6f6bb", "id": 5943, "uuid": "0d525e568a6088f6f6bb" }</script><script class="js-user" type="application/json">{&quot;id&quot;:59,&quot;url_name&quot;:&quot;sotarok&quot;,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/59/profile-images/1473683095&quot;}</script><script language="JavaScript" src="//cdn.bigmining.com/private/js/qiita_bigmining.js" type="text/javascript"></script></div><footer class="footer"><div class="footer_inner"><div class="footer_container"><ul class="footer_links-left"><li class="footer_link"><a class="footer_copyright" href="http://increments.co.jp">© 2016 Increments Inc.</a></li><li class="footer_link"><a href="http://qiita.com/terms">利用規約</a></li><li class="footer_link"><a href="http://qiita.com/privacy">プライバシー</a></li><li class="footer_link"><a href="http://help.qiita.com">ヘルプ</a></li><li class="footer_link"><a href="https://increments.zendesk.com/anonymous_requests/new">お問い合わせ</a></li></ul><ul class="footer_links-right"><li class="footer_link"><a href="http://qiita.com/about">Qiitaとは</a></li><li class="footer_link"><a href="http://blog.qiita.com">ブログ</a></li><li class="footer_link"><a href="http://qiita.com/api/v2/docs">API</a></li><li class="footer_link"><a href="https://teams.qiita.com/">Team</a></li><li class="footer_link"><a href="http://kobito.qiita.com">Kobito</a></li><li class="footer_link"><a href="http://career.qiita.com">Career</a></li><li class="footer_link"><a class="js-public-form-feedback-link" data-target=".js-feedback-form" data-toggle="modal" href=""><i class="fa fa-heart"></i> ご意見 <i class="fa fa-caret-down"></i></a></li></ul></div></div></footer><div class="js-feedback-form modal fade feedbackForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">ご意見</h4></div><div class="modal-body"><form class="js-feedback-form-form" action="/feedbacks" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="+VBgxE5igYCRVrkr2A7G9fMHp+gaPSYfKB1+1XCDjhiULqOhsLPm5vvIBG0v2A8BWsBhJ25uZQzAZ4epcCIzSA==" /><input type="hidden" name="redirect_path" id="redirect_path" value="/sotarok/items/0d525e568a6088f6f6bb" /><div class="form-group"><textarea name="feedback[message]" id="feedback_message" class="form-control js-feedback-form-text-area" placeholder="Qiitaについてのご意見をお聞かせください。" required="required" rows="5">
</textarea></div><div class="feedbackForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary feedbackForm_submitButton"><i class="fa fa-send"></i> 送信</button><p class="feedbackForm_note">いただいたご意見への返信は行っておりません。<br />返信の必要な内容については、<a href="https://increments.zendesk.com/anonymous_requests/new">こちら</a> からお問い合わせください。</p></div><div style="position:fixed;top:-99999px;opacity:0.0001;"><input name="feedback[name]" type="text" /></div></form></div></div></div></div><script>if (window.mixpanel instanceof Element) {
  window.mixpanel = [];
}
(function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="//cdn.mxpnl.com/libs/mixpanel-2.2.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);</script><script src="http://cdn.qiita.com/assets/application-2e0f323ed507b6a4c7327d343f8db4ca6f6c82959749193efa94fe30d9ebaf00.js"></script><script>
  (function () {
    var script = document.getElementsByTagName('script')[0];
    var load = function (src, id) {
      var el = document.createElement('script');
      el.async = true;
      el.src = src;
      el.id = id;
      script.parentNode.insertBefore(el, script);
    };
      // Optimizely
      load('//cdn.optimizely.com/js/52738645.js', 'optimizely-jssdk');
      // Google Analytics
      window._gaq = window._gaq || [];
      var isCareer = location.hostname.split('.')[0] == 'career';
      if (isCareer) {
        window._gaq.push(['_setAccount', 'UA-24675221-11']);
        window._gaq.push(['_setDomainName', 'qiita.com']);
      } else {
        window._gaq.push(['_setAccount', 'UA-24675221-1']);
      }
      window._gaq.push(['_setCustomVar', 1, 'logged_in', 'false', 2]);
      window._gaq.push(['_trackPageview']);
      var src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      load(src, 'google-analytics-jssdk');
    // Google Analytics - Universal Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-24675221-12', {
          
        });
          ga('create', 'UA-1166518-23', { name: 'user' });
          ga('user.send', 'pageview');
        ga('set', 'dimension1', 'false');
        ga('set', 'dimension3', 'false');
      ga('require', 'displayfeatures');
      ga('set', 'forceSSL', true);
      ga('send', 'pageview');
    // Google Tag Manager
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-TBQWPN');
  })();
</script>
</body></html>